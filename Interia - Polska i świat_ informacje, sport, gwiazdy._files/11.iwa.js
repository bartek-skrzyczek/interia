webpackJsonp([11],{144:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],r=!0,i=!1,n=void 0;try{for(var s,A=t[Symbol.iterator]();!(r=(s=A.next()).done)&&(a.push(s.value),!e||a.length!==e);r=!0);}catch(t){i=!0,n=t}finally{try{!r&&A.return&&A.return()}finally{if(i)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),s=r(a(52)),A=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(6)),o=r(a(145)),u=r(a(11)),l=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tracker=e,this.logger=new u.default,this.testAB=a[0],this.HashParams={PARAM_BLOCK:"iwa_block",PARAM_ITEM:"iwa_item",PARAM_HASH:"iwa_hash",PARAM_IMG:"iwa_img",PARAM_SOURCE:"iwa_source",PARAM_TESTAB:"iwa_testab",PARAM_IS_AD:"iwa_is_ad",PARAM_DISABLED:"iwa_disabled",PARAM_URL:"iwa_url"},this.DataAttr={ATTR_BLOCK:"data-iwa-block",ATTR_ITEM:"data-iwa-item",ATTR_HASH:"data-iwa-hash",ATTR_IMG:"data-iwa-img",ATTR_TESTAB:"data-iwa-testab",ATTR_DISABLED:"data-iwa-disabled",ATTR_IS_SPONSORED:"data-iwa-is-sponsored",ATTR_IS_AD:"data-iwa-is-ad"}}return n(t,[{key:"init",value:function(){var t=this;A.LoadOnDomReady(function(){var e=new o.default(document);e.on("mousedown",function(e){var a=e.target.tagName.toLowerCase();return("a"===a||"area"===a||"b"===a||"span"===a||"button"===a||A.isDefined(e.target.parentElement)&&e.target.parentElement&&A.isDefined(e.target.parentElement.tagName)&&"a"===e.target.parentElement.tagName.toLowerCase()||A.isDefined(e.target.parentElement)&&e.target.parentElement&&A.isDefined(e.target.parentElement.parentElement)&&e.target.parentElement.parentElement&&A.isDefined(e.target.parentElement.parentElement.tagName)&&"a"===e.target.parentElement.parentElement.tagName.toLowerCase()||"input"===a&&"submit"===e.target.getAttribute("type"))&&t.collectDataAndSend(a,e),!0}),e.on("keydown",function(e){var a=e.target.tagName.toLowerCase();return"a"!==a&&"input"!==a||13!==e.keyCode||t.collectDataAndSend(a,e),!0})})}},{key:"sendData",value:function(t,e){if(A.isDefined(t)&&A.isObjectInstance(t)&&1!==t[this.HashParams.PARAM_DISABLED]){var a=new s.default,r=!0,n=!1,o=void 0;try{for(var u,l=A.objIterator(t)[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var h=i(u.value,2),c=h[0],d=h[1];a.set(c,String(d),"page")}}catch(t){n=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}a.set(this.HashParams.PARAM_URL,A.urlFixup(e,!0),"page"),this.tracker.send(["outlinks",{customVariables:a}])}}},{key:"completeData",value:function(t,e){var a=t,r=e;try{if(a.getAttribute("id")&&-1!==a.getAttribute("id").indexOf("ad_")&&(r[this.HashParams.PARAM_IS_AD]=1),a.getAttribute(this.DataAttr.ATTR_IS_SPONSORED)&&(r[this.HashParams.PARAM_IS_AD]=1),a.getAttribute(this.DataAttr.ATTR_IS_AD)&&(r[this.HashParams.PARAM_IS_AD]=1),a.getAttribute(this.DataAttr.ATTR_DISABLED)&&1===a.getAttribute(this.DataAttr.ATTR_DISABLED)&&(r[this.HashParams.PARAM_DISABLED]=1),a.getAttribute(this.DataAttr.ATTR_BLOCK)&&(r[this.HashParams.PARAM_BLOCK]=a.getAttribute(this.DataAttr.ATTR_BLOCK),A.isDefined(this.testAB)&&A.inArray(this.testAB,["a","b"])&&(r[this.HashParams.PARAM_TESTAB]=this.testAB)),a.getAttribute(this.DataAttr.ATTR_ITEM)){r[this.HashParams.PARAM_ITEM]=a.getAttribute(this.DataAttr.ATTR_ITEM);var i=a.getElementsByTagName("img");A.isObjectInstance(i)&&1===i.length?r[this.HashParams.PARAM_IMG]=1:r[this.HashParams.PARAM_IMG]=0,a.getAttribute(this.DataAttr.ATTR_HASH)&&(r[this.HashParams.PARAM_HASH]=a.getAttribute(this.DataAttr.ATTR_HASH))}var n=a.parentElement||a.parentNode;if(A.isDefined(r[this.HashParams.PARAM_BLOCK]))return r;n&&n.tagName&&"body"!==n.tagName.toLowerCase()&&this.completeData(n,r)}catch(t){this.logger.log(t)}return r}},{key:"collectDataAndSend",value:function(t,e){var a=void 0,r=void 0;try{switch(t){case"span":case"img":case"area":case"b":case"a":if(!(a=A.getLink(e.target,"data-iwa-block")))return;r=this.completeData(a,{}),this.sendData(r,a.getAttribute("href"));break;case"input":case"button":if(!(a=A.getForm(e.target,this.DataAttr.ATTR_BLOCK)))return;r=this.completeData(a,{}),this.sendData(r,a.getAttribute("action"));break;default:return}}catch(t){this.logger.log(t)}}}]),t}();e.default=l}});